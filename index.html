<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>SWMP</title>
	<link id="swmp-stylesheet" rel="stylesheet" href="swmp.css">
</head>
<body style="background:#ffe;">

	<div style="width:800px;margin:auto">
		<h1 style="color:#800">Simple Web Media Player</h1>
		<span>
			<p>Major Browser Support:<br/>
				- Webkit (Chrome, Opera, Vivaldi, Safari, Brave)<br/>
				- Gecko (Firefox, Tor, LibreWolf)</p>
			<p>It is likely there will be CSS bugs with other engines.<br/>Only tested with Firefox, Tor<b style="cursor:help;" title="Only for Site installation scripts, Don't use third party scripts in Tor you Will be fingerprinted.">(?)</b>, Chrome and Safari, bug reports welcome.</p>
			<p>Create and place a video anywhere on any site by doing minor modifications to:<br/>
				<code style="display:block;text-align:left;white-space:pre-wrap;background:#fff">
// Create a new element and define type (audio/video) and url (internal or external)
var newembed = new swmp({
	url: "example.mp3",
});
// Put new unspawned element inside defined element.
document.getElementById("example").appendChild(newembed.container); // Define where to place video with id, class, or whatever method you prefer.
				</code>
			</p>
			<p>The script automatically checks if the file extension supplied is audio/video and gives appropriate MIME type.</p>
			<p>You can also override some defaults such as forcing autoplay with autoplay: true/false, loop: true/false, volume: [0-100]<br/>
			Applying windowed: upon generation will create an inline player that is neither movable nor fixed with scrolling.</p>
			<p>I find the default HTML5 media player to be obnoxiously ugly on legacy imageboards so this was written to be an easily modifiable script to run media files in browser while keeping a more oldschool look to fit with the rest of the site.</p>

			<p>Keybinds while media is focused: [Space] = Play/Pause, [F] = Fullscreen Toggle, [X] = Close Window, [M] = Toggle Mute, [Esc] = Exit Fullscreen (Browser Default).</p>
			<p>To open the configuration menu right click on the window titlebar or the controls. Video right click functionality is preserved.</p>
		</span>
	</div>

<div class="swmp demo-container" id="example">
	<!-- This is where demo will spawn a video after class is defined -->
</div>


<script src="swmp.js"></script>

<script>
window.addEventListener('DOMContentLoaded', (event) => {

	// Demo spawn

	var container = document.getElementById("example");
	
	var createVideo = document.createElement('button');
	createVideo.innerHTML = 'Create Video';
	createVideo.setAttribute('style', 'margin-right:5px;');
	createVideo.addEventListener("click", (event) => {
		var newembed = new swmp({
			url: "example.webm",
		});
		container.appendChild(newembed.container);
	});
	container.appendChild(createVideo);

	var createAudio = document.createElement('button');
	createAudio.innerHTML = 'Create Audio';
	createAudio.addEventListener("click", (event) => {
		var newembed = new swmp({
			url: "example.mp3",
		});
		container.appendChild(newembed.container);
	});
	container.appendChild(createAudio);

	for (const [key, value] of Object.entries(swmpConfig)) {
		var swmpdemoconfig = document.createElement('div');
		swmpdemoconfig.innerHTML = `${key}:${value}`;
		container.appendChild(swmpdemoconfig);
	}


});
</script>

</body>
</html>